/*! tooltips 2015-03-05 */
var Tooltip=function(a,b){var c=this;this.elem=a;var d={position:c.elem.data("tooltip-position")||"top",message:c.elem.data("tooltip-v2"),max:c.elem.data("tooltip-width")||"100%",style:c.elem.data("tooltip-style")||"purple"};$.extend(d,b),this.tip=$('<div class="tooltip-v2 '+d.position+'"><div class="tooltip-container '+d.style+'"><div class="tooltip-content">'+d.message+"</div></div></div>"),$("body").append(this.tip),this.setPosition=function(){var b=(a.offset().left,a.offset().top,a.outerWidth()),e=a.outerHeight();return c.tip.css({top:a.offset().top+("bottom"===d.position?e:0)+"px",left:Math.round(a.offset().left+b/2)+"px",position:"absolute"}),c},this.setWidth=function(){c.tip.css({display:"block",visibility:"hidden"});var a=c.tip.find(".tooltip-content"),b=c.tip.find(".tooltip-container"),e=a.outerWidth(),f="string"==typeof d.max&&"%"===d.max.slice(-1)?c.elem.outerWidth()*(d.max.slice(0,-1)/100):d.max;return e>f?b.css("width",f):b.css("width",e),c.tip.css({display:"none",visibility:"visible"}),c},this.show=function(){return c.setPosition(),c.tip.stop().fadeIn(500),c},this.hide=function(){return c.tip.stop().fadeOut(500),c},this.setPosition(),this.setWidth(),this.elem.hover(function(){c.show()},function(){c.hide()}),this.tip.hover(function(){c.show()},function(){c.hide()})};